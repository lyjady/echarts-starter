<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>饼图</title>
  <script src="js/echarts.min.js"></script>
  <script>
    addEventListener('load', () => {
      let charts = echarts.init(document.querySelector('#echarts'))
      let data = [
        // 饼图的数据必须是一个数组, 数组内包含一个对象, 对象必须有name与value属性
        // name表示类型, value表示数据
        {name: 'Java', value: 34.2},
        {name: 'C', value: 38.2},
        {name: 'C++', value: 31.2},
        {name: 'Javascript', value: 28.2},
        {name: 'Python', value: 30.2},
        {name: 'Golang', value: 26.2}
      ]
      let option = {
        title: {
          text: '编程语言使用占比'
        },
        tooltip: {
          type: 'item'
        },
        // 饼图没有坐标轴没有必要设置xAxis和yAxis
        series: [
          {
            type: 'pie',
            data,
            // 饼图的数值显示
            label: {
              formatter: arguments => {
                return `${arguments.name}使用量${arguments.value}占比${arguments.percent}%`
              }
            },
            // 设置圆环, 圆环需要设置两个半径
            radius: ['50%', '70%'],
            // 设置成南丁格尔图
            roseType: 'radius',
            // 选中效果, single为仅允许单个圆环出现这种效果, multiple允许多个圆环出现这样的效果
            selectedMode: 'single',
            // 选中的偏移量
            selectedOffset: 30
          }
        ]
      }
      charts.setOption(option)
    })
  </script>
</head>
<body>
  <div id="echarts" style="width: 700px; height: 600px"></div>
</body>
</html>
